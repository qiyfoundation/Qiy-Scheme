# UC02 Connect with Qiy User

# Abstract

This document is the use case specification for use case [UC02 Connect with Qiy User](UC02%20Connect%20with%20Qiy%20User.md).

# Contents


1. [Primary Actors](#primary-actors)
1. [Preconditions](#preconditions)
1. [Basic Flow](#basic-flow)
	1. [Proposer requests Qiy Trust Network for a Connect Token](#1-proposer-requests-qiy-trust-network-for-a-connect-token)
	1. [Proposer provides Accepter with Connect Token](#2-proposer-provides-accepter-with-connect-token)
	1. [Accepter asks Qiy Trust Network to create a Connection using the Connect Token](#3-accepter-asks-qiy-trust-network-to-create-a-connection-using-the-connect-token)
1. [Postconditions](#postconditions)
1. [Extensions](#extensions)
	1. [Proposer creates Connect Token](#11-proposer-creates-connect-token)
	1. [Expiration](#12-expiration)
	1. [Budget](#12-budget)
	1. [Change Connect Token Properties](#13-change-connect-token-properties)
	1. [Ways to provide the Connect Token](#2-ways-to-provide-the-connect-token)
		1. [Connect using Connect Token in a website address](#connect-using-connect-token-in-a-website-address)
		1. [Representing the Connect Token as a QR Code](#representing-the-connect-token-as-a-qr-code)
		1. [Email](#email)
		1. [Webpage with QR Code](#webpage-with-qr-code)
		1. [Webpage with Connect-button](#webpage-with-connect-button)
		1. [Connect by scanning a QR code](#connect-by-scanning-a-qr-code)
		1. [Connect with a button click](#connect-with-a-button-click)
		1. [Connect using print](#connect-using-print)
		1. [Confirmation](#confirmation)
	1. [Proposer creates Connect Token](#11-proposer-creates-connect-token)

# Primary Actors

* [Proposer](../Definitions.md.md#proposer): A [Qiy User](../Definitions.md.md#qiy-user) 
* [Accepter](../Definitions.md.md#accepter): A [Qiy User](../Definitions.md.md#qiy-user)
* [Qiy Trust Network](../Definitions.md.md#qiy-trust-network)

# Preconditions

1. [Proposer](../Definitions.md.md#proposer) has access to the [Qiy Trust Network](../Definitions.md.md#qiy-trust-network).
1. [Accepter](../Definitions.md.md#accepter) has access to the [Qiy Trust Network](../Definitions.md.md#qiy-trust-network).

# Basic Flow

## 1. Proposer requests Qiy Trust Network for a Connect Token
## 2. Proposer provides Accepter with Connect Token
## 3. Accepter asks Qiy Trust Network to create a Connection using the Connect Token

# Postconditions

1. [Proposer](../Definitions.md.md#proposer) and [Accepter](../Definitions.md.md#accepter) have a new [Connection](../Definitions.md.md#connection).
1. [Proposer](../Definitions.md.md#proposer) has a new [Connect Token](../Definitions.md.md#connect-token).
1. The [Connect Token](../Definitions.md.md#connect-token) can be used to create an unlimited number of [Connections](../Definitions.md.md#connection).
1. The [Connect Token](../Definitions.md.md#connect-token) does not expire.

# Extensions

## 1.1 Proposer creates Connect Token

tbd

## 1.2 Expiration


The [Proposer](../Definitions.md.md#proposer) can request for a Connect Token that will expire on a given date and time, see [UC07 Manage Connect Tokens](UC07%20Manage%20Connect%20Tokens.md).

## 1.2 Budget

The [Qiy User](../Definitions.md.md#qiy-user) can request for a Connect Token that can only be used to create a specific number of [Connections](../Definitions.md.md#connection), see [UC07 Manage Connect Tokens](UC07%20Manage%20Connect%20Tokens.md).

## 1.3 Change Connect Token Properties

The [Qiy User](../Definitions.md.md#qiy-user) can change the expiration and/or budget afterwards, see [UC07 Manage Connect Tokens](UC07%20Manage%20Connect%20Tokens.md).


## 2. Ways to provide the Connect Token
[Qiy Users](../Definitions.md.md#qiy-user) can use different media to connect as illustrated in this diagram:

![Media](./images/Connect.png)

 
### Connect using Connect Token in a website address
[Qiy Users](../Definitions.md.md#qiy-user) can connect by transfering the [Connect Token](../Definitions.md.md#connect-token) as a query parameter in a website address:
 
![Connect using a token in a website address](../images/connect-using-a-token-in-a-website-address.png)

### Representing the Connect Token as a QR Code

The picture below shows a [Connect Proposal](../Definitions.md.md#connect-proposal) that is generated by an [Individual](../Definitions.md.md#individual) using a mobile app containing a QR Code.
The [Individual](../Definitions.md.md#individual) can use this proposal to invite other [Individuals](../Definitions.md.md#individual) to connect.

![An example of a Connect Proposal](../images/example--connect-proposal--qr-code-on-phone.PNG)

### Email
The picture below shows an example of a [Connect Proposal](../Definitions.md.md#connect-proposal) in an email:

![An example of a Connect Proposal in an email](../images/example--connect-proposal--email.PNG)

### Webpage with QR Code
The picture below shows an example of a [Connect Proposal](../Definitions.md.md#connect-proposal) in a webpage which displays a QR code when viewed on a laptop, pc or tablet:

![An example of a Connect Proposal in a webpage with QR code](../images/example--connect-proposal--webpage-laptop-pc-tablet.PNG)

### Webpage with Connect-button
The picture below shows an example of a [Connect Proposal](../Definitions.md.md#connect-proposal) in a webpage which displays a button when viewed on smartphone:

![An example of a Connect Proposal in a webpage with button](../images/example--connect-proposal--webpage-phone.PNG)

### Connect by scanning a QR code

The picture below shows an example of scanning the QR code in a [Connect Proposal](../Definitions.md.md#connect-proposal) using a [Qiy Application](../Definitions.md.md#qiy-application):

![An example of scanning a QR code](../images/example--connect-proposal--scan-qr-code.PNG)

### Connect with a button click

When an [Accepter](../Definitions.md.md#accepter) has viewed a webpage with a [Connect Proposal](../Definitions.md.md#connect-proposal) on his phone and clicked the button to accept it, he will be asked to confirm that he will be redirected to a [Qiy Application](../Definitions.md.md#qiy-application):

![An example of confirming the redirect to a Qiy Application](../images/example--connect-proposal--after-the-button-click.PNG)

### Connect using print

[Qiy Users](../Definitions.md.md#qiy-user) can convert the [Token](../Definitions.md.md#token) to a QR Code and use various 'Print'-media to connect:

![Present proposal containing a QR Code](../images/present-proposal-containing-a-qr-code.png)


The QR Code can be used as follows to create the [Connection](../Definitions.md.md#connection):
 
![Connect using a QR Code](../images/connect-using-a-qr-code.png)
 

### Confirmation

The picture below shows an example of an [Qiy Application](../Definitions.md.md#qiy-application) verifying the acceptance of a [Connect Proposal](../Definitions.md.md#connect-proposal).
The [Qiy Application](../Definitions.md.md#qiy-application) will create the [Connection](../Definitions.md.md#connection) when the [Accepter](../Definitions.md.md#accepter) has confirmed that he wants to connect with the [Proposer](../Definitions.md.md#proposer).

![An example of confirming the acceptance a Connect Proposal](../images/example--connect-proposal--verify.PNG)

## 1.1 Proposer creates Connect Token

Instead of acquiring a Connect Token from the Qiy Trust Network, the Proposer can also create a Connect Token himself, see [UC21 Qiy User Creates Connect Token](UC21%20Qiy%20User%20Creates%20Connect%20Token.md).
