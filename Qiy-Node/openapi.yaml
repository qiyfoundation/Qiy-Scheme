components:
  callbacks:
    stateHandled:
      $stateHandledCallbackEndpointUrl:
        post:
          requestBody:
            content:
              application/json:
                examples:
                  example:
                    $ref: '#/components/examples/stateHandledEvent'
                schema:
                  $ref: '#/components/schemas/stateHandledEvent'
            required: true
  examples:
    apiGetAppAuthenticated:
      value:
        currentVersion: 1.0.67-SNAPSHOT
        links:
          create: https://qiy-test-tool-dpyt.cloud.digital-me.nl/qiy_nodes/qiy_node_api/proxy/owners
        serverTime: 1568366519145
    apiGetUserAuthenticated:
      value:
        currentVersion: 1.0.67-SNAPSHOT
        id: 31962764-596b-4eff-b80d-9cd32a65a549
        links:
          amList: https://qiy-test-tool-dpyt.cloud.digital-me.nl/qiy_nodes/qiy_node_api/proxy/mbox/user/action/31962764-596b-4eff-b80d-9cd32a65a549
          connections: https://qiy-test-tool-dpyt.cloud.digital-me.nl/qiy_nodes/qiy_node_api/proxy/connections/user/31962764-596b-4eff-b80d-9cd32a65a549
          ct-create: https://qiy-test-tool-dpyt.cloud.digital-me.nl/qiy_nodes/qiy_node_api/proxy/connecttokens/31962764-596b-4eff-b80d-9cd32a65a549
          ct-list: https://qiy-test-tool-dpyt.cloud.digital-me.nl/qiy_nodes/qiy_node_api/proxy/connecttokens/31962764-596b-4eff-b80d-9cd32a65a549
          ctCreate: https://qiy-test-tool-dpyt.cloud.digital-me.nl/qiy_nodes/qiy_node_api/proxy/connecttokens/31962764-596b-4eff-b80d-9cd32a65a549
          ctList: https://qiy-test-tool-dpyt.cloud.digital-me.nl/qiy_nodes/qiy_node_api/proxy/connecttokens/31962764-596b-4eff-b80d-9cd32a65a549
          eventCallbacks: https://qiy-test-tool-dpyt.cloud.digital-me.nl/qiy_nodes/qiy_node_api/proxy/nodesettings/31962764-596b-4eff-b80d-9cd32a65a549/eventcallbacks
          events: https://qiy-test-tool-dpyt.cloud.digital-me.nl/qiy_nodes/qiy_node_api/proxy/events/31962764-596b-4eff-b80d-9cd32a65a549
          feeds: https://qiy-test-tool-dpyt.cloud.digital-me.nl/qiy_nodes/qiy_node_api/proxy/31962764-596b-4eff-b80d-9cd32a65a549/feeds
          manRef: https://qiy-test-tool-dpyt.cloud.digital-me.nl/qiy_nodes/qiy_node_api/proxy/reference-management/31962764-596b-4eff-b80d-9cd32a65a549
          nodeSettings: https://qiy-test-tool-dpyt.cloud.digital-me.nl/qiy_nodes/qiy_node_api/proxy/nodesettings/31962764-596b-4eff-b80d-9cd32a65a549
          ref: https://qiy-test-tool-dpyt.cloud.digital-me.nl/qiy_nodes/qiy_node_api/proxy/references/31962764-596b-4eff-b80d-9cd32a65a549/single
          refs: https://qiy-test-tool-dpyt.cloud.digital-me.nl/qiy_nodes/qiy_node_api/proxy/references/31962764-596b-4eff-b80d-9cd32a65a549
          scan: https://qiy-test-tool-dpyt.cloud.digital-me.nl/qiy_nodes/qiy_node_api/proxy/connections/user/31962764-596b-4eff-b80d-9cd32a65a549
          self: https://qiy-test-tool-dpyt.cloud.digital-me.nl/qiy_nodes/qiy_node_api/proxy/owners/id/31962764-596b-4eff-b80d-9cd32a65a549
          serviceCatalog: https://qiy-test-tool-dpyt.cloud.digital-me.nl/qiy_nodes/qiy_node_api/proxy/servicecatalog/31962764-596b-4eff-b80d-9cd32a65a549
          target-template: https://dev2-issuer.testonly.digital-me.nl/issuer/routes/webhook/~id~
        serverTime: 1568374440048
    authenticationRequired:
      value:
        errors:
        - message: Authentication required!
          status: 401
    connectTokenJson:
      value:
        identifier: mgd_dev2
        target: https://dev2-issuer.testonly.digital-me.nl/issuer/routes/webhook/2fe11d37-ee84-45f9-b07c-629c11532407
        tmpSecret: tOCChOFtQiflrMGBPQfy8w==
    connectTokenList:
      value:
      - created: 1542882407000
        json:
          identifier: mgd_dev2
          target: https://dev2-issuer.testonly.digital-me.nl/issuer/routes/webhook/2fe11d37-ee84-45f9-b07c-629c11532407
          tmpSecret: tOCChOFtQiflrMGBPQfy8w==
        lastUsed: 1542882800000
        links:
          delete: https://dev2-user.testonly.digital-me.nl/user/connecttokens/mgd_dev2/e95feef5-3fd4-4bcd-bb12-024633af8a40
          self: https://dev2-user.testonly.digital-me.nl/user/connecttokens/mgd_dev2/e95feef5-3fd4-4bcd-bb12-024633af8a40
          update: https://dev2-user.testonly.digital-me.nl/user/connecttokens/mgd_dev2/e95feef5-3fd4-4bcd-bb12-024633af8a40
        useBudget: 1
        useSpend: 1
        valid: true
      - created: 1544537654000
        json:
          identifier: mgd_dev2
          target: https://dev2-issuer.testonly.digital-me.nl/issuer/routes/webhook/beb82a8f-4e7f-4927-b272-cceb24402cc0
          tmpSecret: 5rqlN8YDI3rGP46cl+kE8Q==
        lastUsed: 1544537657000
        links:
          delete: https://dev2-user.testonly.digital-me.nl/user/connecttokens/mgd_dev2/ed2135cd-3a87-4720-b14a-82522778decd
          self: https://dev2-user.testonly.digital-me.nl/user/connecttokens/mgd_dev2/ed2135cd-3a87-4720-b14a-82522778decd
          update: https://dev2-user.testonly.digital-me.nl/user/connecttokens/mgd_dev2/ed2135cd-3a87-4720-b14a-82522778decd
        useBudget: 1
        useSpend: 1
        valid: true
    connectTokenNew:
      value:
        created: 1542882407000
        json:
          identifier: mgd_dev2
          target: https://dev2-issuer.testonly.digital-me.nl/issuer/routes/webhook/2fe11d37-ee84-45f9-b07c-629c11532407
          tmpSecret: tOCChOFtQiflrMGBPQfy8w==
        lastUsed: null
        links:
          delete: https://dev2-user.testonly.digital-me.nl/user/connecttokens/mgd_dev2/e95feef5-3fd4-4bcd-bb12-024633af8a40
          self: https://dev2-user.testonly.digital-me.nl/user/connecttokens/mgd_dev2/e95feef5-3fd4-4bcd-bb12-024633af8a40
          update: https://dev2-user.testonly.digital-me.nl/user/connecttokens/mgd_dev2/e95feef5-3fd4-4bcd-bb12-024633af8a40
        useBudget: 1
        useSpend: 0
        valid: true
    connectTokenRegisterRequestBody:
      value:
        expires: 2349020398
        json:
          identifier: Service Provider 1
          target: https://qiy-test-tool-dpyt.cloud.digital-me.nl/qiy_nodes/qiy_node_api/proxy/v1/sp1connectTokenOffline2target
          tmpSecret: 9paMAI61N6b5dPCCYD4IiS==
        useBudget: 1
    connectTokenRequestRequestBody:
      value:
        expires: 2349020398
        useBudget: 1
    connectTokenUsed:
      value:
        created: 1542882407000
        json:
          identifier: mgd_dev2
          target: https://dev2-issuer.testonly.digital-me.nl/issuer/routes/webhook/2fe11d37-ee84-45f9-b07c-629c11532407
          tmpSecret: tOCChOFtQiflrMGBPQfy8w==
        lastUsed: 1542882800000
        links:
          delete: https://dev2-user.testonly.digital-me.nl/user/connecttokens/mgd_dev2/e95feef5-3fd4-4bcd-bb12-024633af8a40
          self: https://dev2-user.testonly.digital-me.nl/user/connecttokens/mgd_dev2/e95feef5-3fd4-4bcd-bb12-024633af8a40
          update: https://dev2-user.testonly.digital-me.nl/user/connecttokens/mgd_dev2/e95feef5-3fd4-4bcd-bb12-024633af8a40
        useBudget: 1
        useSpend: 1
        valid: true
    connection:
      value:
        activeFrom: 1551796945000
        links:
          feeds: https://dev2-user.testonly.digital-me.nl/user/mgd_dev2/connections/016706d0-b3c1-4104-b6de-aacdf33230c0/feeds
          mbox: https://dev2-user.testonly.digital-me.nl/user/mbox/user/mgd_dev2/016706d0-b3c1-4104-b6de-aacdf33230c0
          references: https://dev2-user.testonly.digital-me.nl/user/references/mgd_dev2/016706d0-b3c1-4104-b6de-aacdf33230c0
          self: https://dev2-user.testonly.digital-me.nl/user/connections/user/mgd_dev2/016706d0-b3c1-4104-b6de-aacdf33230c0
        pid: aAQt41QqCvJuy8DMBayDCQ==
        state: connected
    connectionExpired:
      value:
        activeFrom: 1544686272000
        activeUntil: 1544693472000
        links:
          feeds: https://dev2-user.testonly.digital-me.nl/user/mgd_dev2/connections/465571a1-d7e6-4d03-ae4b-f1a78b1463f3/feeds
          mbox: https://dev2-user.testonly.digital-me.nl/user/mbox/user/mgd_dev2/465571a1-d7e6-4d03-ae4b-f1a78b1463f3
          parent: https://dev2-user.testonly.digital-me.nl/user/connections/user/mgd_dev2/7f4dd669-9381-40e1-8f6e-4c9904476d8a
          references: https://dev2-user.testonly.digital-me.nl/user/references/mgd_dev2/465571a1-d7e6-4d03-ae4b-f1a78b1463f3
          self: https://dev2-user.testonly.digital-me.nl/user/connections/user/mgd_dev2/465571a1-d7e6-4d03-ae4b-f1a78b1463f3
        pid: vjQK/rOw6CoSuWPZy6K93w==
        state: expired
    connectionList:
      value:
        result:
        - activeFrom: 1544686272000
          activeUntil: 1544693472000
          links:
            feeds: https://dev2-user.testonly.digital-me.nl/user/mgd_dev2/connections/465571a1-d7e6-4d03-ae4b-f1a78b1463f3/feeds
            mbox: https://dev2-user.testonly.digital-me.nl/user/mbox/user/mgd_dev2/465571a1-d7e6-4d03-ae4b-f1a78b1463f3
            parent: https://dev2-user.testonly.digital-me.nl/user/connections/user/mgd_dev2/7f4dd669-9381-40e1-8f6e-4c9904476d8a
            references: https://dev2-user.testonly.digital-me.nl/user/references/mgd_dev2/465571a1-d7e6-4d03-ae4b-f1a78b1463f3
            self: https://dev2-user.testonly.digital-me.nl/user/connections/user/mgd_dev2/465571a1-d7e6-4d03-ae4b-f1a78b1463f3
          pid: vjQK/rOw6CoSuWPZy6K93w==
          state: expired
        - activeFrom: 1544685886000
          links:
            feeds: https://dev2-user.testonly.digital-me.nl/user/mgd_dev2/connections/7f4dd669-9381-40e1-8f6e-4c9904476d8a/feeds
            mbox: https://dev2-user.testonly.digital-me.nl/user/mbox/user/mgd_dev2/7f4dd669-9381-40e1-8f6e-4c9904476d8a
            references: https://dev2-user.testonly.digital-me.nl/user/references/mgd_dev2/7f4dd669-9381-40e1-8f6e-4c9904476d8a
            self: https://dev2-user.testonly.digital-me.nl/user/connections/user/mgd_dev2/7f4dd669-9381-40e1-8f6e-4c9904476d8a
          pid: nfIols4wKn9bBVkqnkHKbw==
          state: connected
    eventCallbackEndpointUrls:
      value:
        DATA_REFERENCE_RECEIVED2: https://qiy-test-tool-dpyt.cloud.digital-me.nl/qiy_nodes/qiy_node_api/proxy/v1/dataReferenceReceivedCallbackEndpointUrl
        STATE_HANDLED: stateHandledCallbackEndpointUrl
    eventsResponseExample:
      value: :ping
    messageList:
      value:
        result:
        - inbound: false
          payload: eyJwdWJsaWNLZXkiOiJNSUlCSWpBTkJna3Foa2lHOXcwQkFRRUZBQU9DQVE4QU1JSUJDZ0tDQVFFQXU0cXNYMmlISzE0MzhXZjRCcGxiMjBqYXdjN0U3Mng0MTMwUW9QaE9MajByM0VSTi8wSmpjK3FoaU1QQVBEVCtTa1NQbmdGckN2RTRhR0pIOWIwdm8rWVkvcW1FbVFzdGw0d2s5cEFHTnVJdHh0TStab0RoTHdkRHBETTc0QkE4aFZ3cXJHQVA5UUovNktibFFLbXRPT09NY0tTUXB0RXNFQ3NFQytMZThpTkJhU2ozRnBMbWpHUWkxYjZXMG1UMU1aYzVFUjRTOFVmN2hkajhpS0JRc3hFcjdZUThqZ2FXdE1rakZOU0tZemt2Vi9zU3FtL2t0akh4Q21MUk5yRXdvaDBvZ1V1S1FEMnJuK1piWXovalBMWjRZOFd4Q3d2Wi9jVjFkMDc5Wk16S0hYWVBLT3J1RnJOWTZjZng5STRsckEyVHdsSXpOQVd5RHQzN1ZsQ2xEUUlEQVFBQiIsInBlcnNpc3RlbnRJZCI6ImxOMUxEN2lBSGZ2bDVvTWRCZ0k4VWc9PSIsInByb3RvY29scyI6WyJodHRwczovL3Byb3RvY29scy5xaXkubmwvaW52aXRlcy92LjEuMC4wIiwiaHR0cHM6Ly9wcm90b2NvbHMucWl5Lm5sL2NsZWFudXAvbWVzc2FnZXMvdi4xLjAuMCIsImh0dHBzOi8vcHJvdG9jb2xzLnFpeS5ubC9zdGF0ZS92LjEuMC4wIiwiaHR0cHM6Ly9naXRodWIuY29tL3FpeWZvdW5kYXRpb24vZmlLa3MvdHJlZS9tYXN0ZXIvc2NoZW1hL3YxIiwiaHR0cHM6Ly9wcm90b2NvbHMucWl5Lm5sL2RhdGEtcmVmZXJlbmNlL3BlZXIvdi4xLjAuMCIsImh0dHBzOi8vcHJvdG9jb2xzLnFpeS5ubC9yZWZlcmVuY2UtbWFuYWdlbWVudC8xLjAuMCJdLCJuYW1lIjoibWdkX2RldjIifQ==
          processed: false
          protocol: https://protocols.qiy.nl/domain-details/v.1.0.0
          sent: true
          serialNr: 1
          text: Our details
        - inbound: true
          payload: eyJwZXJzaXN0ZW50SWQiOiJLandGTzlGekRyQUM3Q2Q4WURKajh3PT0ifQ==
          processed: true
          protocol: https://protocols.qiy.nl/reuse-persistent-id/v.1.0.0
          refSerialNr: 1
          sent: false
          serialNr: 2
          text: Known by this persistent id
    messageNew:
      value:
        payload: SGVsbG8gV29ybGQh
        protocol: https://example.com/qiy/node/message
        refSerialNr: -1
        text: Hello world!
    nodeCreateRequestBody:
      value:
        alias: Your Service Provider
        id: cb06fb8e-4e48-4eb1-8b5f-a46e9eef1308
        nodeSettings:
          askDappre: 'no'
          usePersistentId: 'yes'
        password: 9b449623-f361-425b-bca8-8c23c159e4c0
        publicKey: MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA0TK8dMRxvXp66teemQe/tzUi26LBWfkO0pWGqyzmnNO6ISALt+rgEPl5mhqztAU4xI9iE/L9dCzC3snb2OQT+2/IaV9ilt1UAmZhyuogPeTKykPRFR2oT51wWoIuG4hD0x6iBhFCorn087Te99oS1RwS1RR5wFjIs/ol3ldawZ29xemsskmPEWJ/QpfpauBxvSbZEXRy15cAWnWO9yVzizUszwNjP8Ca0/K7NKa+lOtp09egO12SBMfX871AI44wWkZqPsr+O5cpo8Srw+90dbETA1Ypno3lpel2lBMQaf0+Srmjd/bJs9dlaXCTljoLt2uvOmriDSI6eSJZ7FxH4wIDAQAB
    nodeSettings:
      value:
        askDappre: 'no'
        usePersistentId: 'yes'
    stateHandledEvent:
      value:
        connectionUrl: https://dev1-user.testonly.digital-me.nl/user/connections/user/509f79f8-6562-49cd-bb24-4163557d7e59/3b5151e3-adc7-403a-a31a-8bd504e2c8ae
        extraData:
          PID: 9GqX94/EoOcD47hCvBQ+eg==
          connectToken: https://dev1-user.testonly.digital-me.nl/user/connecttokens/509f79f8-6562-49cd-bb24-4163557d7e59/7ced41dc-76ff-469e-9fa0-3f34c73d0a2b
          newUri: https://dev1-user.testonly.digital-me.nl/user/connections/user/509f79f8-6562-49cd-bb24-4163557d7e59/ce5b2dd5-1bdd-41aa-b0ad-d0afa2e9a3cb
        type: STATE_HANDLED
  responses:
    api:
      content:
        application/json:
          examples:
            apiGetAppAuthenticated:
              $ref: '#/components/examples/apiGetAppAuthenticated'
            apiGetUserAuthenticated:
              $ref: '#/components/examples/apiGetUserAuthenticated'
          schema:
            $ref: '#/components/schemas/apiResponse'
      description: Api response
    connectToken:
      content:
        application/json:
          examples:
            example:
              $ref: '#/components/examples/connectTokenNew'
          schema:
            $ref: '#/components/schemas/connectToken'
      description: Connect token
    connectTokenCreateEndpointPostRequest:
      content:
        application/json:
          examples:
            example:
              $ref: '#/components/examples/connectTokenNew'
          schema:
            $ref: '#/components/schemas/connectToken'
      description: Connect token created or registered
    connectTokenList:
      content:
        application/json:
          examples:
            example:
              $ref: '#/components/examples/connectTokenList'
          schema:
            $ref: '#/components/schemas/connectTokenList'
      description: Connect token list
    connection:
      content:
        application/json:
          examples:
            example:
              $ref: '#/components/examples/connection'
          schema:
            $ref: '#/components/schemas/connection'
      description: Connection
    connectionCreated:
      description: Connection created
    connectionList:
      content:
        application/json:
          examples:
            example:
              $ref: '#/components/examples/connectionList'
          schema:
            $ref: '#/components/schemas/connectionList'
      description: Connection list
    default:
      content:
        application/json:
          examples:
            example:
              $ref: '#/components/examples/authenticationRequired'
          schema:
            properties:
              errors:
                items:
                  properties:
                    message:
                      pattern: Authentication required!
                      type: string
                    status:
                      enum:
                      - 401
                      type: number
                  type: object
                type: array
            type: object
      description: Default response
    eventCallbacksResponse:
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/eventCallbackEndpointUrls'
        examples:
          example:
            $ref: '#/components/examples/eventCallbackEndpointUrls'
      description: Event callbacks set
    eventsResponse:
      content:
        examples:
          example:
            $ref: '#/components/examples/eventsResponseExample'
        text/event-stream: {}
      description: Events
    messageList:
      content:
        application/json:
          examples:
            example:
              $ref: '#/components/examples/messageList'
          schema:
            $ref: '#/components/schemas/messageList'
      description: Message list
    messageSent:
      description: Message sent
    nodeCreated:
      description: Node created
    nodeDeleted:
      description: Node deleted
    nodeSettingsResponse:
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/nodeSettings'
        examples:
          example:
            $ref: '#/components/examples/nodeSettings'
      description: Node settings
  schemas:
    apiAppAuthenticatedResponse:
      properties:
        currentVersion:
          type: string
        links:
          properties:
            create:
              description: '[Node Create Endpoint](https://github.com/qiyfoundation/Qiy-Scheme/blob/review-board/Qiy-Node/Qiy%20Node%20API.md#node-create-endpoint)
                url'
              type: string
          type: object
        serverTime:
          description: Server time in unix time in mili seconds.
          type: number
      type: object
    apiResponse:
      oneOf:
      - $ref: '#/components/schemas/apiAppAuthenticatedResponse'
      - $ref: '#/components/schemas/apiUserAuthenticatedResponse'
    apiUserAuthenticatedResponse:
      properties:
        currentVersion:
          type: string
        links:
          properties:
            amList:
              description: '[Action Messages List Endpoint](https://github.com/qiyfoundation/Qiy-Scheme/blob/review-board/Qiy-Node/Qiy%20Node%20API.md#action-messages-list-endpoint)
                url'
              type: string
            connections:
              description: '[Connections List Endpoint](https://github.com/qiyfoundation/Qiy-Scheme/blob/review-board/Qiy-Node/Qiy%20Node%20API.md#connections-list-endpoint)
                url'
              type: string
            ct-create:
              description: deprecated
              type: string
            ct-list:
              description: deprecated
              type: string
            ctCreate:
              description: '[Connect Token Create Endpoint](https://github.com/qiyfoundation/Qiy-Scheme/blob/review-board/Qiy-Node/Qiy%20Node%20API.md#connect-token-create-endpoint)
                url'
              type: string
            ctList:
              description: '[Connect Token List Endpoint](https://github.com/qiyfoundation/Qiy-Scheme/blob/review-board/Qiy-Node/Qiy%20Node%20API.md#connect-token-list-endpoint)
                url'
              type: string
            eventCallbacks:
              description: '[Event Callbacks Endpoint](https://github.com/qiyfoundation/Qiy-Scheme/blob/review-board/Qiy-Node/Qiy%20Node%20API.md#event-callbacks-endpoint)
                url'
              type: string
            events:
              description: '[Events Endpoint](https://github.com/qiyfoundation/Qiy-Scheme/blob/review-board/Qiy-Node/Qiy%20Node%20API.md#events-endpoint)
                url'
              type: string
            feeds:
              description: '[Feeds Endpoint](https://github.com/qiyfoundation/Qiy-Scheme/blob/review-board/Qiy-Node/Qiy%20Node%20API.md#feeds-endpoint)
                url'
              type: string
            manRef:
              description: deprecated
              type: string
            nodeSettings:
              description: '[Node Settings Endpoint](https://github.com/qiyfoundation/Qiy-Scheme/blob/review-board/Qiy-Node/Qiy%20Node%20API.md#node-settings-endpoint)
                url'
              type: string
            ref:
              description: deprecated
              type: string
            refs:
              description: deprecated
              type: string
            scan:
              description: '[Connection Create Endpoint](https://github.com/qiyfoundation/Qiy-Scheme/blob/review-board/Qiy-Node/Qiy%20Node%20API.md#connection-create-endpoint)
                url'
              type: string
            self:
              description: '[Self Endpoint](https://github.com/qiyfoundation/Qiy-Scheme/blob/review-board/Qiy-Node/Qiy%20Node%20API.md#self-endpoint)
                url'
              type: string
            serviceCatalog:
              description: '[Service Catalogue Endpoint](https://github.com/qiyfoundation/Qiy-Scheme/blob/review-board/Qiy-Node/Qiy%20Node%20API.md#service-catalogue-endpoint)
                url'
              type: string
            target-tempate:
              description: '[Target Template Endpoint](https://github.com/qiyfoundation/Qiy-Scheme/blob/review-board/Qiy-Node/Qiy%20Node%20API.md#target-template-endpoint)
                url'
              type: string
          type: object
        serverTime:
          description: Server time in unix time in mili seconds.
          type: number
      type: object
    appAuthentication:
      description: See [Qiy Node App Authentication](https://github.com/qiyfoundation/Qiy-Scheme/blob/review-board/Qiy-Node/Qiy%20Node%20API.md#app-authentication)
      scheme: Basic
      type: http
    connectToken:
      allOf:
      - $ref: '#/components/schemas/connectTokenPropertyCreated'
      - $ref: '#/components/schemas/connectTokenPropertyExpires'
      - $ref: '#/components/schemas/connectTokenPropertyJson'
      - $ref: '#/components/schemas/connectTokenPropertyLastUsed'
      - $ref: '#/components/schemas/connectTokenPropertyLinks'
      - $ref: '#/components/schemas/connectTokenPropertyName'
      - $ref: '#/components/schemas/connectTokenPropertyUseBudget'
      - $ref: '#/components/schemas/connectTokenPropertyUseSpend'
      - $ref: '#/components/schemas/connectTokenPropertyValid'
    connectTokenCreateEndpointPostRequestBody:
      anyOf:
      - $ref: '#/components/schemas/connectTokenPropertyExpires'
      - $ref: '#/components/schemas/connectTokenPropertyJson'
      - $ref: '#/components/schemas/connectTokenPropertyName'
      - $ref: '#/components/schemas/connectTokenPropertyUseBudget'
    connectTokenList:
      items:
        $ref: '#/components/schemas/connectToken'
      type: array
    connectTokenPropertyCreated:
      properties:
        created:
          description: Creation datetimestamp
          format: Unix time in mili seconds
          maxItems: 1
          type: number
      type: object
    connectTokenPropertyExpires:
      properties:
        expires:
          default: null
          description: Expiration datetime
          format: Unix time in mili seconds
          maxItems: 1
          minItems: 0
          nullable: true
          type: number
      type: object
    connectTokenPropertyJson:
      properties:
        json:
          description: Connect token json
          maxItems: 1
          minItems: 1
          properties:
            identifier:
              type: string
            target:
              format: url
              type: string
            tmpSecret:
              type: string
          type: object
      type: object
    connectTokenPropertyLastUsed:
      properties:
        lastUsed:
          default: null
          description: Last used datetimestamp
          format: Unix time in mili seconds
          maxItems: 1
          nullable: true
          type: number
      type: object
    connectTokenPropertyLinks:
      properties:
        links:
          description: Connect token links
          maxItems: 1
          minItems: 1
          properties:
            delete:
              format: url
              type: string
            self:
              format: url
              type: string
            update:
              format: url
              type: string
          type: object
      type: object
    connectTokenPropertyName:
      properties:
        name:
          default: null
          maxItems: 1
          minItems: 0
          nullable: true
          type: string
      type: object
    connectTokenPropertyUseBudget:
      properties:
        useBudget:
          default: null
          description: Number of connections that can be created with the connect
            token
          maxItems: 1
          minItems: 0
          nullable: true
          type: number
      type: object
    connectTokenPropertyUseSpend:
      properties:
        useSpend:
          default: null
          description: Number of connections that have been created with the connect
            token
          maxItems: 1
          minItems: 0
          nullable: true
          type: number
      type: object
    connectTokenPropertyValid:
      properties:
        valid:
          description: Whether the connect token can be used or not
          maxItems: 1
          minItems: 1
          type: boolean
      type: object
    connection:
      properties:
        activeFrom:
          format: Unix time in mili seconds
          maxItems: 1
          minItems: 1
          type: number
        activeUntil:
          default: null
          description: Endtime of the active period
          format: Unix time in mili seconds
          maxItems: 1
          minItems: 0
          nullable: true
          type: number
        links:
          properties:
            feeds:
              format: url
              maxItems: 1
              minItems: 1
              type: string
            mbox:
              format: url
              maxItems: 1
              minItems: 1
              type: string
            parent:
              default: null
              description: Connection url of the first connection with the Qiy Node
              format: url
              maxItems: 1
              minItems: 0
              nullable: true
              type: string
            references:
              format: url
              maxItems: 1
              minItems: 1
              type: string
            self:
              format: url
              maxItems: 1
              minItems: 1
              type: string
          type: object
        pid:
          maxItems: 1
          minItems: 1
          type: string
        state:
          enum:
          - connected
          - expired
          maxItems: 1
          minItems: 1
          type: string
      type: object
    connectionList:
      properties:
        result:
          items:
            $ref: '#/components/schemas/connection'
          maxItems: 1
          minItems: 1
          type: array
      type: object
    eventCallbackEndpointUrls:
      properties:
        DATA_REFERENCE_RECEIVED2:
          type: string
        STATE_HANDLED:
          type: string
      type: object
    message:
      properties:
        inbound:
          maxItems: 1
          minItems: 1
          type: boolean
        payload:
          description: Payload
          format: ascii
          maxItems: 1
          minItems: 1
          type: string
        processed:
          maxItems: 1
          minItems: 1
          type: boolean
        protocol:
          format: url
          maxItems: 1
          minItems: 1
          type: string
        refSerialNr:
          maxItems: 1
          minItems: 0
          type: number
        sent:
          maxItems: 1
          minItems: 1
          type: boolean
        serialNr:
          maxItems: 1
          minItems: 1
          type: number
        text:
          maxItems: 1
          minItems: 1
          type: string
      type: object
    messageList:
      properties:
        result:
          items:
            $ref: '#/components/schemas/message'
          maxItems: 1
          minItems: 1
          type: array
      type: object
    nodeCreateRequestBody:
      properties:
        alias:
          description: Qiy Node alias, returned in connect tokens.
          maxItems: 1
          minItems: 1
          type: string
        id:
          description: Qiy Node id.
          format: uuid
          maxItems: 1
          minItems: 1
          type: string
        password:
          description: See [Transport Authentication](https://github.com/qiyfoundation/Qiy-Scheme/blob/review-board/Qiy-Node/Qiy%20Node%20API.md#transport-authentication).
          format: uuid
          maxItems: 1
          minItems: 1
          type: string
        publicKey:
          description: Public key to be used to authenticate future requests.
          maxItems: 1
          minItems: 1
          type: string
      type: object
    nodeSettings:
      properties:
        askDappre:
          type: string
        usePersistentId:
          type: string
      type: object
    protocol:
      description: Service type url
      example: https://github.com/qiyfoundation/payment-due-list/tree/master/schema/v1
      format: url
      type: string
    qiyNodeCredential:
      description: See [Qiy Node Credential](https://github.com/qiyfoundation/Qiy-Scheme/blob/review-board/Qiy-Node/Qiy%20Node%20API.md#qiy-node-credential).
      properties:
        id:
          description: Qiy Node id.
          format: uuid
          maxItems: 1
          minItems: 1
          type: string
        password:
          description: Transport Password for [Transport Authentication](https://github.com/qiyfoundation/Qiy-Scheme/blob/review-board/Qiy-Node/Qiy%20Node%20API.md#transport-authentication).
          format: uuid
          maxItems: 1
          minItems: 1
          type: string
        privateKey:
          description: RSA private key for [User Authentication](https://github.com/qiyfoundation/Qiy-Scheme/blob/review-board/Qiy-Node/Qiy%20Node%20API.md#user-authentication).
          maxItems: 1
          minItems: 1
          type: string
      type: object
    routingFailedEvent:
      description: See [Routing Failed Event](https://github.com/qiyfoundation/Qiy-Scheme/blob/review-board/Qiy-Node/Qiy%20Node%20API.md#routing-failed-event)
      properties:
        extraData:
          maxItems: 1
          minItems: 1
          properties:
            connectToken:
              description: Connection token url of the connect token that was used
                to request the connection
              format: url
              maxItems: 1
              minItems: 1
              type: string
          type: object
        type:
          enum:
          - ROUTING_FAILED
          maxItems: 1
          minItems: 1
          type: string
      type: object
    stateHandledEvent:
      description: See [State Handled Event](https://github.com/qiyfoundation/Qiy-Scheme/blob/review-board/Qiy-Node/Qiy%20Node%20API.md#state-handled-event)
      properties:
        connectionUrl:
          description: Connection url of the new connection with the Qiy Node
          format: url
          maxItems: 1
          minItems: 1
          type: string
        extraData:
          maxItems: 1
          minItems: 1
          properties:
            PID:
              maxItems: 1
              minItems: 1
              type: string
            connectToken:
              description: Connection token url of the connect token that was used
                to create the connection
              format: url
              maxItems: 1
              minItems: 1
              type: string
            newUri:
              description: Connection url of the first connection with the Qiy Node
              format: url
              maxItems: 1
              minItems: 1
              type: string
          type: object
        type:
          enum:
          - STATE_HANDLED
          maxItems: 1
          minItems: 1
          type: string
      type: object
    transportAuthentication:
      description: Also requires user authentication, see [Qiy Node Transport Authentication](https://github.com/qiyfoundation/Qiy-Scheme/blob/review-board/Qiy-Node/Qiy%20Node%20API.md#transport-authentication)
      in: header
      name: password
      type: apiKey
    userAuthentication:
      description: Also requires app authentication, see [Qiy Node User Authentication](https://github.com/qiyfoundation/Qiy-Scheme/blob/review-board/Qiy-Node/Qiy%20Node%20API.md#user-authentication)
      in: header
      name: Authorization-node-QTN
      type: apiKey
  securitySchemes:
    appAuthentication:
      $ref: '#/components/schemas/appAuthentication'
    transportAuthentication:
      $ref: '#/components/schemas/transportAuthentication'
    userAuthentication:
      $ref: '#/components/schemas/userAuthentication'
  x-events:
    routingFailed:
      data:
        schema:
          $ref: '#/components/schemas/routingFailedEvent'
      description: See [Routing Failed Event](https://github.com/qiyfoundation/Qiy-Scheme/blob/review-board/Qiy-Node/Qiy%20Node%20API.md#routing-failed-event)
      event: ROUTING_FAILED
    stateHandled:
      data:
        schema:
          $ref: '#/components/schemas/stateHandledEvent'
      description: See [State Handled Event](https://github.com/qiyfoundation/Qiy-Scheme/blob/review-board/Qiy-Node/Qiy%20Node%20API.md#state-handled-event)
      event: STATE_HANDLED
info:
  description: To get started with [this api](https://github.com/qiyfoundation/Qiy-Scheme/blob/review-board/Qiy-Node/Qiy%20Node%20API.md),
    you need a developer key. You can get it [here](https://github.com/qiyfoundation/Qiy-Scheme/blob/review-board/Qiy-Node/Qiy%20Node%20API.md#service-desk)
  externalDocs:
    description: Find more info here
    url: https://github.com/qiyfoundation/Qiy-Scheme/blob/review-board/Qiy-Node/Qiy%20Node%20API.md
  license:
    name: Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International
      Public License
    url: https://creativecommons.org/licenses/by-nc-nd/4.0/
  title: Qiy Node API - General
  version: 1.1.0
openapi: 3.0.0
paths:
  /api:
    get:
      description: See [GET Api](https://github.com/qiyfoundation/Qiy-Scheme/blob/review-board/Qiy-Node/Qiy%20Node%20API.md#api-info)
        and/or [Get endpoint addresses](https://github.com/qiyfoundation/Qiy-Scheme/blob/review-board/Qiy-Node/Qiy%20Node%20API.md#get-endpoint-addresses)
      operationId: api
      responses:
        '200':
          $ref: '#/components/responses/api'
        default:
          $ref: '#/components/responses/default'
      security:
      - appAuthentication: []
      - userAuthentication: []
      tags:
      - api
    servers:
    - description: Proxy server
      url: https://qiytesttool.pythonanywhere.com/qiy_nodes/qiy_node_api/proxy/v0
    - description: Development 2 server
      url: https://dev2-user.testonly.digital-me.nl/user/v0
    - description: Acceptance server
      url: https://user.dolden.net/user/v0
    - description: Production server
      url: https://user.digital-me.nl/user/v0
  /{ConnectTokenCreateEndpointPath}:
    parameters:
    - description: Connect Token Create Endpoint path, for example 'connecttokens/mgd_dev2'
        for the endpoint 'https://dev2-user.testonly.digital-me.nl/user/connecttokens/mgd_dev2'.
      in: path
      name: ConnectTokenCreateEndpointPath
      required: true
    post:
      callbacks:
        stateHandled:
          $ref: '#/components/callbacks/stateHandled'
      description: See [Request connect token](https://github.com/qiyfoundation/Qiy-Scheme/blob/review-board/Qiy-Node/Qiy%20Node%20API.md#request-connect-token)
        or [Register connect token](https://github.com/qiyfoundation/Qiy-Scheme/blob/review-board/Qiy-Node/Qiy%20Node%20API.md#register-connect-token)
      operationId: Request or register connect token
      requestBody:
        content:
          application/json:
            examples:
              Register connect token:
                $ref: '#/components/examples/connectTokenRegisterRequestBody'
              Request connect token:
                $ref: '#/components/examples/connectTokenRequestRequestBody'
            schema:
              $ref: '#/components/schemas/connectTokenCreateEndpointPostRequestBody'
        description: Connect token request or registration details
      responses:
        '201':
          $ref: '#/components/responses/connectTokenCreateEndpointPostRequest'
        default:
          $ref: '#/components/responses/default'
      security:
      - appAuthentication: []
      - transportAuthentication: []
      - userAuthentication: []
      tags:
      - client.connect token.register
      - controller.connect token.register
      - server.connect token.register
      - client.connect token.request
      - controller.connect token.request
      - server.connect token.request
      x-events:
        stateHandled:
          $ref: '#/components/x-events/stateHandled'
      x-url: $ConnectTokenCreateEndpointUrl
    servers:
    - description: Connect Token Create Endpoint
      url: '{ConnectTokenCreateEndpointBaseUrl}'
      variables:
        ConnectTokenCreateEndpointBaseUrl:
          default: https://github.com/qiyfoundation/Qiy-Scheme/blob/review-board/Qiy-Node/Qiy%20Node%20API.md#connect-token-create-endpoint
          description: See [Connect Token Create Endpoint](https://github.com/qiyfoundation/Qiy-Scheme/blob/review-board/Qiy-Node/Qiy%20Node%20API.md#connect-token-create-endpoint)
  /{ConnectTokenListEndpointPath}:
    get:
      description: See [List connect tokens](https://github.com/qiyfoundation/Qiy-Scheme/blob/review-board/Qiy-Node/Qiy%20Node%20API.md#list-connect-tokens)
      operationId: List connect tokens
      responses:
        '200':
          $ref: '#/components/responses/connectTokenList'
        default:
          $ref: '#/components/responses/default'
      tags:
      - client.connect tokens.list
      - controller.connect tokens.list
      - server.connect tokens.list
      x-url: $ConnectTokenListEndpointUrl
    parameters:
    - description: Connect Token List Endpoint path, for example 'user/connecttokens/mgd_dev2'
        for the endpoint 'https://dev2-user.testonly.digital-me.nl/user/connecttokens/mgd_dev2'.
      in: path
      name: ConnectTokenListEndpointPath
      required: true
    servers:
    - description: Connect Token List Endpoint
      url: '{ConnectTokenListEndpointBaseUrl}'
      variables:
        ConnectTokenListEndpointBaseUrl:
          default: https://github.com/qiyfoundation/Qiy-Scheme/blob/review-board/Qiy-Node/Qiy%20Node%20API.md#connect-token-list-endpoint
          description: See [Connect Token List Endpoint](https://github.com/qiyfoundation/Qiy-Scheme/blob/review-board/Qiy-Node/Qiy%20Node%20API.md#connect-token-list-endpoint)
  /{ConnectTokenUrlPath}:
    get:
      description: See [Get connect token](https://github.com/qiyfoundation/Qiy-Scheme/blob/review-board/Qiy-Node/Qiy%20Node%20API.md#get-connect-token)
      operationId: Get connect token
      responses:
        '200':
          $ref: '#/components/responses/connectToken'
        default:
          $ref: '#/components/responses/default'
      tags:
      - client.connect token.get
      - controller.connect token.get
      - server.connect token.get
      x-url: $ConnectTokenEndpointUrl
    parameters:
    - description: Connection Url path, for example 'user/connecttokens/mgd_dev2/e95feef5-3fd4-4bcd-bb12-024633af8a40'
        for the url 'https://dev2-user.testonly.digital-me.nl/user/connecttokens/mgd_dev2/e95feef5-3fd4-4bcd-bb12-024633af8a40'.
      in: path
      name: ConnectionUrlPath
      required: true
    servers:
    - description: Connection Url
      url: '{ConnectionBaseUrl}'
      variables:
        ConnectionBaseUrl:
          default: https://github.com/qiyfoundation/Qiy-Scheme/blob/review-board/Qiy-Node/Qiy%20Node%20API.md#connect-token
          description: See [Connect Token](https://github.com/qiyfoundation/Qiy-Scheme/blob/review-board/Qiy-Node/Qiy%20Node%20API.md#connect-token)
  /{ConnectionCreateEndpointPath}:
    parameters:
    - description: Connection Create Endpoint path, for example 'user/connections/user/mgd_dev2'
        for the endpoint 'https://dev2-user.testonly.digital-me.nl/user/connections/user/mgd_dev2'.
      in: path
      name: ConnectionCreateEndpointPath
      required: true
    post:
      description: See [Request connection](https://github.com/qiyfoundation/Qiy-Scheme/blob/review-board/Qiy-Node/Qiy%20Node%20API.md#request-connection)
      operationId: Request connection
      requestBody:
        content:
          application/json:
            examples:
              example:
                $ref: '#/components/examples/connectTokenJson'
            schema:
              $ref: '#/components/schemas/connectTokenPropertyJson'
        description: Connect token json
      responses:
        '201':
          $ref: '#/components/responses/connectionCreated'
        default:
          $ref: '#/components/responses/default'
      security:
      - appAuthentication: []
      - transportAuthentication: []
      - userAuthentication: []
      tags:
      - client.connection.request
      - controller.connection.request
      - server.connection.request
      x-events:
        routingFailed:
          $ref: '#/components/x-events/routingFailed'
        stateHandled:
          $ref: '#/components/x-events/stateHandled'
      x-url: $ConnectionCreateEndpointUrl
    servers:
    - description: Connection Create Endpoint
      url: '{ConnectionCreateEndpointBaseUrl}'
      variables:
        ConnectionCreateEndpointBaseUrl:
          default: https://github.com/qiyfoundation/Qiy-Scheme/blob/review-board/Qiy-Node/Qiy%20Node%20API.md#connection-create-endpoint
          description: See [Connection Create Endpoint](https://github.com/qiyfoundation/Qiy-Scheme/blob/review-board/Qiy-Node/Qiy%20Node%20API.md#connection-create-endpoint)
  /{ConnectionListEndpointPath}:
    get:
      description: See [List connections](https://github.com/qiyfoundation/Qiy-Scheme/blob/review-board/Qiy-Node/Qiy%20Node%20API.md#list-connections)
      operationId: List connections
      responses:
        '200':
          $ref: '#/components/responses/connectionList'
        default:
          $ref: '#/components/responses/default'
      tags:
      - client.connections.list
      - controller.connections.list
      - server.connections.list
      x-url: $ConnectionListEndpointUrl
    parameters:
    - description: Connection List Endpoint path, for example 'user/connections/user/mgd_dev2'
        for the endpoint 'https://dev2-user.testonly.digital-me.nl/user/connections/user/mgd_dev2'.
      in: path
      name: ConnectionListEndpointPath
      required: true
    servers:
    - description: Connection List Endpoint
      url: '{ConnectionListEndpointBaseUrl}'
      variables:
        ConnectionListEndpointBaseUrl:
          default: https://github.com/qiyfoundation/Qiy-Scheme/blob/review-board/Qiy-Node/Qiy%20Node%20API.md#connection-list-endpoint
          description: See [Connection List Endpoint](https://github.com/qiyfoundation/Qiy-Scheme/blob/review-board/Qiy-Node/Qiy%20Node%20API.md#connection-list-endpoint)
  /{ConnectionUrlPath}:
    get:
      description: See [Get connection](https://github.com/qiyfoundation/Qiy-Scheme/blob/review-board/Qiy-Node/Qiy%20Node%20API.md#get-connection)
      operationId: Get connection
      responses:
        '200':
          $ref: '#/components/responses/connection'
        default:
          $ref: '#/components/responses/default'
      tags:
      - client.connection.get
      - controller.connection.get
      - server.connection.get
      x-url: $ConnectionEndpointUrl
    parameters:
    - description: Connection Url path, for example 'user/connections/user/mgd_dev2/016706d0-b3c1-4104-b6de-aacdf33230c0'
        for the url 'https://dev2-user.testonly.digital-me.nl/user/connections/user/mgd_dev2/016706d0-b3c1-4104-b6de-aacdf33230c0'.
      in: path
      name: ConnectionUrlPath
      required: true
    servers:
    - description: Connection Url
      url: '{ConnectionBaseUrl}'
      variables:
        ConnectionBaseUrl:
          default: https://github.com/qiyfoundation/Qiy-Scheme/blob/review-board/Qiy-Node/Qiy%20Node%20API.md#connection
          description: See [Connection](https://github.com/qiyfoundation/Qiy-Scheme/blob/review-board/Qiy-Node/Qiy%20Node%20API.md#connection)
  /{EventCallbacksEndpointPath}:
    get:
      description: See [Get event callback endpoints](https://github.com/qiyfoundation/Qiy-Scheme/blob/review-board/Qiy-Node/Qiy%20Node%20API.md#get-event-callback-endpoints)
      operationId: Get event callback endpoints
      responses:
        '200':
          $ref: '#/components/responses/eventCallbacksResponse'
        default:
          $ref: '#/components/responses/default'
      tags:
      - client.configuration.event callback endpoints.get
      - server.configuration.event callback endpoints.get
      x-url: $EventCallbacksEndpointUrl
    parameters:
    - description: Event Callbacks Endpoint path, for example 'user/nodesettings/mgd_dev2/eventcallbacks'
        for the endpoint 'https://dev2-user.testonly.digital-me.nl/user/nodesettings/mgd_dev2/eventcallbacks'.
      in: path
      name: EventCallbacksEndpointPath
      required: true
    put:
      description: See [Set event callback endpoints](https://github.com/qiyfoundation/Qiy-Scheme/blob/review-board/Qiy-Node/Qiy%20Node%20API.md#set-event-callback-endpoints)
      operationId: Set event callback endpoints
      requestBody:
        content:
          application/json:
            examples:
              example:
                $ref: '#/components/examples/eventCallbackEndpointUrls'
            schema:
              $ref: '#/components/schemas/eventCallbackEndpointUrls'
        description: Callback endpoint urls
      responses:
        '200':
          $ref: '#/components/responses/eventCallbacksResponse'
        default:
          $ref: '#/components/responses/default'
      tags:
      - client.configuration.event callback endpoints.set
      - server.configuration.event callback endpoints.set
      x-url: $EventCallbacksEndpointUrl
    servers:
    - description: Event Callbacks Endpoint
      url: '{EventCallbacksEndpointBaseUrl}'
      variables:
        EventCallbacksEndpointBaseUrl:
          default: https://github.com/qiyfoundation/Qiy-Scheme/blob/review-board/Qiy-Node/Qiy%20Node%20API.md#event-callbacks-endpoint
          description: See [Event Callbacks Endpoint](https://github.com/qiyfoundation/Qiy-Scheme/blob/review-board/Qiy-Node/Qiy%20Node%20API.md#event-callbacks-endpoint)
  /{EventsEndpointPath}:
    get:
      description: See [Start listening to events](https://github.com/qiyfoundation/Qiy-Scheme/blob/review-board/Qiy-Node/Qiy%20Node%20API.md#start-listening-to-events)
      operationId: Start listening to events
      responses:
        '200':
          $ref: '#/components/responses/eventsResponse'
        default:
          $ref: '#/components/responses/default'
      tags:
      - controller.events
      x-url: $EventsEndpointUrl
    parameters:
    - description: Events Endpoint path, for example 'user/events/mgd_dev2' for the
        endpoint 'https://dev2-user.testonly.digital-me.nl/user/events/mgd_dev2'.
      in: path
      name: EventsEndpointPath
      required: true
    servers:
    - description: Events Endpoint
      url: '{EventsEndpointBaseUrl}'
      variables:
        EventsEndpointBaseUrl:
          default: https://github.com/qiyfoundation/Qiy-Scheme/blob/review-board/Qiy-Node/Qiy%20Node%20API.md#events-create-endpoint
          description: See [Events Endpoint](https://github.com/qiyfoundation/Qiy-Scheme/blob/review-board/Qiy-Node/Qiy%20Node%20API.md#events-endpoint)
  /{MessagesEndpointPath}:
    get:
      description: See [List messages](https://github.com/qiyfoundation/Qiy-Scheme/blob/review-board/Qiy-Node/Qiy%20Node%20API.md#list-messages)
      operationId: List messages
      responses:
        '200':
          $ref: '#/components/responses/messageList'
        default:
          $ref: '#/components/responses/default'
      security:
      - appAuthentication: []
      - transportAuthentication: []
      - userAuthentication: []
      tags:
      - client.messages.list
      - controller.messages.list
      - server.messages.list
      x-url: $MessagesEndpointUrl
    parameters:
    - description: Messages Endpoint path, for example 'user/mbox/user/mgd_dev2/016706d0-b3c1-4104-b6de-aacdf33230c0'
        for the url 'https://dev2-user.testonly.digital-me.nl/user/mbox/user/mgd_dev2/016706d0-b3c1-4104-b6de-aacdf33230c0'.
      in: path
      name: MessagesEndpointPath
      required: true
    post:
      description: See [Send message](https://github.com/qiyfoundation/Qiy-Scheme/blob/review-board/Qiy-Node/Qiy%20Node%20API.md#send-message)
      operationId: Send message
      requestBody:
        content:
          application/json:
            examples:
              example:
                $ref: '#/components/examples/messageNew'
            schema:
              $ref: '#/components/schemas/message'
      responses:
        '200':
          $ref: '#/components/responses/messageSent'
        default:
          $ref: '#/components/responses/default'
      security:
      - appAuthentication: []
      - transportAuthentication: []
      - userAuthentication: []
      tags:
      - client.message.send
      - controller.message.send
      - server.message.send
      x-url: $MessagesEndpointUrl
    servers:
    - description: Messages
      url: '{MessagesEndpointBaseUrl}'
      variables:
        MessagesBaseUrl:
          default: https://github.com/qiyfoundation/Qiy-Scheme/blob/review-board/Qiy-Node/Qiy%20Node%20API.md#messages-endpoint
          description: See [Messages Endpoint](https://github.com/qiyfoundation/Qiy-Scheme/blob/review-board/Qiy-Node/Qiy%20Node%20API.md#messages-endpoint)
  /{NodeCreateEndpointPath}:
    parameters:
    - description: Node Create Endpoint path, for example 'nodes' for the endpoint
        'https://user.digital-me.nl/nodes'.
      in: path
      name: NodeCreateEndpointPath
      required: true
    post:
      description: See [Request creation of Qiy Node](https://github.com/qiyfoundation/Qiy-Scheme/blob/review-board/Qiy-Node/Qiy%20Node%20API.md#request-creation-of-qiy-node)
      operationId: Request creation of Qiy Node
      requestBody:
        content:
          application/json:
            examples:
              example:
                $ref: '#/components/examples/nodeCreateRequestBody'
            schema:
              $ref: '#/components/schemas/nodeCreateRequestBody'
        description: Request details
      responses:
        '201':
          $ref: '#/components/responses/nodeCreated'
        default:
          $ref: '#/components/responses/default'
      security:
      - appAuthentication: []
      tags:
      - controller.node.request
      x-url: $NodeCreateEndpointUrl
    servers:
    - description: NodeCreate Endpoint
      url: '{NodeCreateEndpointBaseUrl}'
      variables:
        NodeCreateEndpointBaseUrl:
          default: https://github.com/qiyfoundation/Qiy-Scheme/blob/review-board/Qiy-Node/Qiy%20Node%20API.md#node-create-endpoint
          description: See [Node Create Endpoint](https://github.com/qiyfoundation/Qiy-Scheme/blob/review-board/Qiy-Node/Qiy%20Node%20API.md#node-create-endpoint)
  /{NodeSettingsEndpointPath}:
    get:
      description: See [Get node settings](https://github.com/qiyfoundation/Qiy-Scheme/blob/review-board/Qiy-Node/Qiy%20Node%20API.md#get-node-settings)
      operationId: Get node settings
      responses:
        '200':
          $ref: '#/components/responses/nodeSettingsResponse'
        default:
          $ref: '#/components/responses/default'
      tags:
      - client.configuration.node settings.get
      - controller.configuration.node settings.get
      - server.configuration.node settings.get
      x-url: $NodeSettingsEndpointUrl
    parameters:
    - description: Node Settings Endpoint path, for example 'user/nodesettings/mgd_dev2'
        for the endpoint 'https://dev2-user.testonly.digital-me.nl/user/nodesettings/mgd_dev2'.
      in: path
      name: NodeSettingsEndpointPath
      required: true
    put:
      description: See [Set node settings](https://github.com/qiyfoundation/Qiy-Scheme/blob/review-board/Qiy-Node/Qiy%20Node%20API.md#set-node-settings)
      operationId: Set node settings
      requestBody:
        content:
          application/json:
            examples:
              example:
                $ref: '#/components/examples/nodeSettings'
            schema:
              $ref: '#/components/schemas/nodeSettings'
        description: Node settings
      responses:
        '200':
          $ref: '#/components/responses/nodeSettingsResponse'
        default:
          $ref: '#/components/responses/default'
      tags:
      - client.configuration.node settings.set
      - controller.configuration.node settings.set
      - server.configuration.node settings.set
      x-url: $NodeSettingsEndpointUrl
    servers:
    - description: Node Settings Endpoint
      url: '{NodeSettingsEndpointBaseUrl}'
      variables:
        NodeSettingsEndpointBaseUrl:
          default: https://github.com/qiyfoundation/Qiy-Scheme/blob/review-board/Qiy-Node/Qiy%20Node%20API.md#node-settings-endpoint
          description: See [Node Settings Endpoint](https://github.com/qiyfoundation/Qiy-Scheme/blob/review-board/Qiy-Node/Qiy%20Node%20API.md#node-settings-endpoint)
  /{QiyNodeUrlPath}:
    delete:
      description: See [Delete Qiy Node](https://github.com/qiyfoundation/Qiy-Scheme/blob/review-board/Qiy-Node/Qiy%20Node%20API.md#delete-qiy-node)
      operationId: Delete Qiy Node
      responses:
        '201':
          $ref: '#/components/responses/nodeDeleted'
        default:
          $ref: '#/components/responses/default'
      security:
      - appAuthentication: []
      - transportAuthentication: []
      - userAuthentication: []
      tags:
      - controller.node.delete
      x-url: $SelfEndpointUrl
    parameters:
    - description: Qiy Node Url path, for example 'user/owners/id/mgd_dev2' for the
        url 'https://dev2-user.testonly.digital-me.nl/user/owners/id/mgd_dev2'.
      in: path
      name: QiyNodeUrlPath
      required: true
    servers:
    - description: Qiy Node Url
      url: '{QiyNodeBaseUrl}'
      variables:
        QiyNodeBaseUrl:
          default: https://github.com/qiyfoundation/Qiy-Scheme/blob/review-board/Qiy-Node/Qiy%20Node%20API.md#qiy-node-url
          description: See [Qiy Node Url](https://github.com/qiyfoundation/Qiy-Scheme/blob/review-board/Qiy-Node/Qiy%20Node%20API.md#qiy-node-url)
security:
- appAuthentication: []
- userAuthentication: []
